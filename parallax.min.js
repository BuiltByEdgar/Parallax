"use strict";function Parallax(a,b){var c={className:"parallax",power:.5,axis:"x",scope:"global"};this._extend(c,b),this.o=c,this.container=a,this.capture=null,this.el=[],this.pointer={x:0,y:0,cx:0,cy:0},this.transformPrefix=this._getPrefix(["transform","-ms-transform","-moz-transform","-webkit-transform","-o-transform"]),this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,window.addEventListener("DOMContentLoaded",this._load.bind(this),!1),window.addEventListener("resize",this._resize.bind(this),!1)}Parallax.prototype._load=function(){"global"===this.o.scope?this.capture=document:this.capture=this.container,this.capture.addEventListener("mousemove",this._mouseMoveHandler.bind(this),!1),this.el=document.getElementsByClassName(this.o.className),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null}(),this._run()},Parallax.prototype._mouseMoveHandler=function(a){this.pointer.x=a.pageX,this.pointer.y=a.pageY},Parallax.prototype._run=function(){var a=this,b=1,c=0,d=0;this.pointer.cx+=(this.pointer.x-this.pointer.cx)/10,this.pointer.cy+=(this.pointer.y-this.pointer.cy)/10,c=-(.5*this.windowWidth-Math.max(15,Math.min(this.pointer.cx,this.windowWidth-15))),d=-(.5*this.windowHeight-Math.max(0,Math.min(this.pointer.cy,this.windowHeight-5))),[].forEach.call(this.el,function(e){var f=0,g=0,h=(e.dataset.power||this.o.power)/10;("x"===a.o.axis||"both"===a.o.axis)&&(f=(c-a.container.getBoundingClientRect().left-.5*a.container.getBoundingClientRect().width)*h*b*-1-.5*e.getBoundingClientRect().width+.5*a.container.getBoundingClientRect().width),("y"===a.o.axis||"both"===a.o.axis)&&(g=(d-a.container.getBoundingClientRect().top-.5*a.container.getBoundingClientRect().height)*h*b*-1-.5*e.getBoundingClientRect().height+.5*a.container.getBoundingClientRect().height),e.style[a.transformPrefix]="matrix3d( 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+f+", "+g+", 0, 1 )",b++}),requestAnimFrame(this._run.bind(this))},Parallax.prototype._getPrefix=function(a){for(var c=(document.createElement("div"),""),d=0;d<a.length;d++){c=a[d];break}return c},Parallax.prototype._resize=function(a){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},Parallax.prototype._isMobile=function(a){return navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?!0:!1},Parallax.prototype._extend=function(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):a[c]=b[c];return a};